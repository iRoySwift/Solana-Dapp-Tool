"use strict";(self.webpackChunksolana_tools_client=self.webpackChunksolana_tools_client||[]).push([[64],{3541:function(e,n,t){var r=t(9506),a=t(5281),s=(t(7313),t(6417));n.Z=function(){return(0,s.jsx)(r.Z,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(a.Z,{sx:{background:"transparent"}})})}},9064:function(e,n,t){t.r(n),t.d(n,{PROGRAM_ID:function(){return q},default:function(){return F}});var r=t(9439),a=t(9506),s=t(2832),c=t(1113),o=t(9536),i=t(2478),u=t(4334),l=t(7313),h=t(4942),d=t(1413),p=t(4165),f=t(5861),x=t(3541),m=t(3098),Z=t(6429),g=t(3929),k=t(4758),v=t(9099),y=t(1629),b=t(501),j=t(6835),w=t(3477),T=t(4076),S=t(7478),C=t(3467),B=t(605),M=t(4631),A=t(6436),P=t(477),H=t(2525),I=t(7429),K=t(7655),V=t(6417);function G(e,n,t,r,a,s,c){return{isChecked:e,mint:n,owner:t,ata:r,balance:a,authority:s,amount:c}}var R=function(){(0,K.sy)(),(0,K.yv)("Please connect to your wallet",{variant:"warning"})},L=function(e){var n=e.connection,t=e.pubkey,s=e.sendTransaction,o=e.setDestinations,i=e.setSelectToken,u=(0,l.useState)(!1),L=(0,r.Z)(u,2),W=L[0],D=L[1],_=(0,l.useState)({"6w9P6s2HFHRXRfCSxkatUznwq2cnHxvi52pxZJAJb1Wx":!1,Gir7LUMrsXHv5gGctKNp6th2Pj7j9qmYR1LSrsHS6Yaj:!1,HQ9Jn1KNwKyPkDyBmQtXtMWn1DXP52jRGzahx3U2Wfky:!1,"8jSP1ELAoTw9g4kWXWEuqStFeR5qQW2j67UfVfe23gFX":!1}),E=(0,r.Z)(_,2),O=E[0],q=E[1],F=(0,l.useState)([]),N=(0,r.Z)(F,2),X=N[0],z=N[1],Q=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(){var r,a;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return R(),e.abrupt("return");case 3:return D(!0),z([]),e.next=7,n.getTokenAccountsByOwner(t,{programId:A.H_});case 7:return r=e.sent,console.log("\ud83d\ude80 ~ file: TokenList.tsx:86 ~ queryTokenList ~ result:",r),e.next=11,r.value.map(function(){var e=(0,f.Z)((0,p.Z)().mark((function e(r){var a,s,c,o;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.account.data,c=P.p0.decode(s),e.next=4,(0,H.ih)(n,c.mint);case 4:return o=e.sent,e.abrupt("return",G(!1,c.mint,t,r.pubkey,Number(c.amount/BigInt(I.j5)),(null===(a=o.mintAuthority)||void 0===a?void 0:a.toBase58())===t.toBase58(),1));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 11:a=e.sent,Promise.all(a).then((function(e){console.log("\ud83d\ude80 ~ file: TokenList.tsx:107 ~ Promise.all ~ res:",e),z(e),D(!1)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){q((0,d.Z)((0,d.Z)({},O),{},(0,h.Z)({},e.target.name,e.target.checked)))},$=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(r,a,c){var o;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return R(),e.abrupt("return");case 3:return D(!0),e.next=6,(0,m.t)(n,t,r,a,c*I.j5,s);case 6:o=e.sent,D(!1),console.log("   \u2705 - Mint ".concat(c," Token To ").concat(a.toBase58()," transaction:").concat(o)),(0,K.yv)("\ud83c\udf89 Mint ".concat(c," Token succesfully!"),{variant:"success"});case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){o(Object.keys(O).filter((function(e){return O[e]})).map((function(e){return new I.nh(e)})))}),[O,o]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(a.Z,{sx:{flex:1,pr:3,overflowY:"auto"},children:[(0,V.jsxs)(a.Z,{children:[(0,V.jsx)(c.Z,{variant:"h5",children:"\u8bf7\u9009\u62e9\u9700\u8981\u88ab\u7a7a\u6295\u7684\u94b1\u5305\u5730\u5740:"}),(0,V.jsx)(Z.Z,{children:Object.keys(O).map((function(e){return(0,V.jsx)(g.Z,{control:(0,V.jsx)(k.Z,{checked:O[e],name:e,onChange:U}),label:e},e)}))})]}),(0,V.jsxs)(a.Z,{sx:{marginTop:10},children:[(0,V.jsxs)(c.Z,{variant:"h5",children:["\u4f60(","".concat(t),")\u62e5\u6709\u7684Token\u5217\u8868:"]}),(0,V.jsx)(v.Z,{variant:"outlined",size:"small",onClick:Q,children:"Query"}),(0,V.jsxs)(y.Z,{sx:{maxWidth:"100%",overflow:"auto"},component:b.Z,children:[(0,V.jsxs)(j.Z,{stickyHeader:!0,"aria-label":"simple table",children:[(0,V.jsx)(w.Z,{children:(0,V.jsxs)(T.Z,{children:[(0,V.jsx)(S.Z,{padding:"checkbox"}),(0,V.jsx)(S.Z,{children:"Mint"}),(0,V.jsx)(S.Z,{children:"Owner"}),(0,V.jsx)(S.Z,{children:"ATA"}),(0,V.jsx)(S.Z,{align:"right",children:"Balance(Number)"}),(0,V.jsx)(S.Z,{align:"right",children:"Mint Authority"}),(0,V.jsx)(S.Z,{align:"right",children:"Mint Number(Number)"}),(0,V.jsx)(S.Z,{align:"right",children:"Action"})]})}),(0,V.jsx)(C.Z,{children:X.map((function(e){return(0,V.jsxs)(T.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,V.jsx)(S.Z,{padding:"checkbox",children:(0,V.jsx)(B.Z,{checked:e.isChecked,color:"primary",inputProps:{"aria-labelledby":"labelId"},onChange:function(){return function(e){z(X.map((function(n){return n.isChecked=!1,n.ata===e.ata&&(n.isChecked=!0),n}))),i(e)}(e)}})}),(0,V.jsx)(S.Z,{component:"th",scope:"row",children:"".concat(e.mint)}),(0,V.jsx)(S.Z,{component:"th",scope:"row",children:"".concat(e.owner)}),(0,V.jsx)(S.Z,{align:"right",children:"".concat(e.ata)}),(0,V.jsx)(S.Z,{align:"right",children:"".concat(e.balance)}),(0,V.jsx)(S.Z,{align:"right",children:"".concat(e.authority)}),(0,V.jsx)(S.Z,{align:"right",children:e.authority&&(0,V.jsx)(M.Z,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:e.amount,variant:"outlined",size:"small",type:"number",onChange:function(n){return function(e,n){X.map((function(t){return t.ata===e&&(t.amount=Number(n.target.value)),t}))}(e.ata,n)}})}),(0,V.jsx)(S.Z,{align:"right",children:e.authority&&(0,V.jsx)(v.Z,{onClick:function(){return $(e.mint,e.owner,e.amount)},children:"Mint"})})]},"".concat(e.mint))}))})]}),!X.length&&(0,V.jsx)(a.Z,{sx:{width:"100%",padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:"\u6682\u65e0\u6570\u636e"})]})]})]}),W&&(0,V.jsx)(x.Z,{})]})},W=t(3306),D=t(362),_=t(3076),E=t(151),O=function(e){var n=e.connection,t=e.pubkey,o=e.sendTransaction,i=e.destinations,u=e.selectToken,h=(0,l.useState)(!1),d=(0,r.Z)(h,2),m=d[0],Z=d[1],g=(0,l.useState)(0),k=(0,r.Z)(g,2),y=k[0],b=k[1],j=function(){var e=(0,f.Z)((0,p.Z)().mark((function e(){var r,a,s,c;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return R(),e.abrupt("return");case 3:if(u&&i&&i.length){e.next=5;break}return e.abrupt("return");case 5:return Z(!0),e.next=8,(0,E._Z)(n,t,u.mint,t,o);case 8:return r=e.sent,e.next=11,Promise.all(i.map((function(e){return(0,E._Z)(n,t,u.mint,e,o)})));case 11:return a=e.sent,console.log("   \u2705 - Step 1 \u83b7\u53d6ATA\u8d26\u53f7"),s=[],a.forEach((function(e){s.push((0,D.$B)(r.address,e.address,t,y*I.j5))})),console.log("   \u2705 - Step 2 - create an array with your desires `instructions`"),e.next=18,(0,_.S)(t,n,o,s);case 18:c=e.sent,console.log("   \u2705 - Step 3 - Generate a transaction and send it to the network"),Z(!1),(0,K.yv)("\ud83c\udf89 Transaction succesfully confirmed!",{variant:"success"}),(0,K.yv)("https://explorer.solana.com/tx/".concat(c,"?cluster=devnet"),{variant:"success"});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(a.Z,{sx:{flex:1,pl:3,overflowY:"auto"},children:[(0,V.jsx)(s.Z,{alignItems:"center",children:(0,V.jsx)(c.Z,{variant:"h4",children:"\u4e00\u952e\u7a7a\u6295Token"})}),(0,V.jsxs)(s.Z,{flexDirection:"row",alignItems:"center",mt:2,children:[(0,V.jsx)(W.Z,{sx:{width:150},htmlFor:"number",children:"\u8bf7\u8f93\u5165\u7a7a\u6295\u6570\u91cf:"}),(0,V.jsx)(M.Z,{fullWidth:!0,id:"number",type:"number",variant:"outlined",inputProps:{step:1,min:0,max:null===u||void 0===u?void 0:u.balance,type:"number"},onChange:function(e){b(Number(e.target.value))}})]}),(0,V.jsx)(s.Z,{alignItems:"center",mt:2,children:(0,V.jsx)(v.Z,{variant:"contained",onClick:j,children:"\u7a7a\u6295"})})]}),m&&(0,V.jsx)(x.Z,{})]})},q=new I.nh("3vRAsca5nenhXcjJGenqyt4gfUwTB8k3jsfbEWbafCSt"),F=function(){var e=(0,i.R)().connection,n=(0,u.O)(),t=n.publicKey,h=n.sendTransaction,d=(0,l.useState)(),p=(0,r.Z)(d,2),f=p[0],x=p[1],m=(0,l.useState)(),Z=(0,r.Z)(m,2),g=Z[0],k=Z[1];return(0,V.jsxs)(a.Z,{sx:{padding:3,background:"#fff"},children:[(0,V.jsx)(s.Z,{justifyContent:"center",alignItems:"center",children:(0,V.jsx)(c.Z,{variant:"h2",children:"\u4e00\u952e\u53d1Token\u5de5\u5177"})}),(0,V.jsxs)(s.Z,{flexWrap:"nowrap",flexDirection:"row",width:"100%",marginTop:10,children:[(0,V.jsx)(L,{pubkey:t,sendTransaction:h,connection:e,setDestinations:x,setSelectToken:k}),(0,V.jsx)(o.Z,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,V.jsx)(O,{pubkey:t,sendTransaction:h,connection:e,selectToken:g,destinations:f})]})]})}},151:function(e,n,t){t.d(n,{V3:function(){return d.V},_Z:function(){return l},tM:function(){return d.t}});var r=t(4165),a=t(5861),s=t(2525),c=t(477),o=t(7698),i=t(7496),u=t(3076);function l(e,n,t,r,a){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,l,h){var d,p,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.MO)(a,l);case 2:return d=e.sent,e.prev=3,e.next=6,(0,c.D0)(n,d);case 6:case 24:p=e.sent,e.next=28;break;case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof o.We||e.t0 instanceof o.Or)){e.next=27;break}return e.prev=12,(f=[]).push((0,i.E)(t,d,l,a)),e.next=17,(0,u.S)(t,n,h,f);case 17:e.next=22;break;case 19:throw e.prev=19,e.t1=e.catch(12),e.t1;case 22:return e.next=24,(0,c.D0)(n,d);case 27:throw e.t0;case 28:if(p.mint.equals(a)){e.next=30;break}throw new o.iT;case 30:if(p.owner.equals(l)){e.next=32;break}throw new o.bQ;case 32:return e.abrupt("return",p);case 33:case"end":return e.stop()}}),e,null,[[3,9],[12,19]])})))).apply(this,arguments)}var d=t(3098)},3098:function(e,n,t){t.d(n,{V:function(){return f},t:function(){return x}});var r=t(4165),a=t(5861),s=t(2525),c=t(6436),o=t(4595),i=t(477),u=t(7496),l=t(5008),h=t(7429),d=t(7655),p=t(3076),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,a){var i,u,l,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.RG.generate(),e.next=3,(0,s.Mg)(n);case 3:return u=e.sent,l=[h.yc.createAccount({fromPubkey:t,newAccountPubkey:i.publicKey,space:s.Bl,lamports:u,programId:c.H_}),(0,o.wu)(i.publicKey,9,t,t)],console.log("   \u2705 - Step 1 - create an array with your desires `instructions`"),e.next=8,(0,p.S)(t,n,a,l,[i]);case 8:return f=e.sent,console.log("   \u2705 - Step 2 - Generate a transaction and send it to the network"),(0,d.yv)("\ud83c\udf89 Transaction succesfully confirmed!"),(0,d.yv)("https://explorer.solana.com/tx/".concat(f,"?cluster=devnet")),e.abrupt("return",i.publicKey);case 13:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,c,o,h){var f,x,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=(0,s.MO)(a,c),console.log("\ud83d\ude80 ~ file: mintToken.ts:94 ~ toPubkey:",c.toBase58(),f.toBase58()),x=[],e.prev=3,e.next=6,(0,i.D0)(n,f);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),x.push((0,u.E)(t,f,c,a));case 11:return x.push((0,l.G7)(a,f,t,o)),e.next=14,(0,p.S)(t,n,h,x);case 14:return m=e.sent,console.log("   \u2705 - Step 2 - Generate a transaction and send it to the network"),(0,d.yv)("\ud83c\udf89 Transaction succesfully confirmed!"),(0,d.yv)("https://explorer.solana.com/tx/".concat(m,"?cluster=devnet")),e.abrupt("return",f);case 19:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(n,t,r,a,s,c){return e.apply(this,arguments)}}()},3076:function(e,n,t){t.d(n,{S:function(){return i},n:function(){return c}});var r=t(4165),a=t(5861),s=t(7429);function c(e,n,t,r){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,c){var o,i,u,l,h,d,p,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLatestBlockhashAndContext();case 2:return o=e.sent,i=o.context.slot,u=o.value,l=u.blockhash,h=u.lastValidBlockHeight,console.log("   \u2705 - 1. Fetched latest blockhash. Last valid height:",h),d=c?new s.$Z({payerKey:n.publicKey,recentBlockhash:l,instructions:a}).compileToV0Message([c]):new s.$Z({payerKey:n.publicKey,recentBlockhash:l,instructions:a}).compileToV0Message(),console.log("   \u2705 - 2. Compiled transaction message"),(p=new s.GS(d)).sign([n]),console.log("   \u2705 - 3. Transaction Signed"),e.next=15,t.sendTransaction(p,{maxRetries:5,minContextSlot:i});case 15:return f=e.sent,console.log("   \u2705 - 4. Transaction sent to network"),e.next=19,t.confirmTransaction({signature:f,blockhash:l,lastValidBlockHeight:h});case 19:if(!e.sent.value.err){e.next=22;break}throw new Error("   \u274c - 5. Transaction not confirmed.");case 22:return console.log("   \ud83c\udf89 - 5. Transaction succesfully confirmed!","https://explorer.solana.com/tx/".concat(f,"?cluster=devnet")),e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e,n,t,r,a,s){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,c,o,i){var u,l,h,d,p,f,x,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLatestBlockhashAndContext();case 2:return u=e.sent,l=u.context.slot,h=u.value,d=h.blockhash,p=h.lastValidBlockHeight,console.log("   \u2705 - 1. Fetched latest blockhash. Last valid height:",p),f=i?new s.$Z({payerKey:n,recentBlockhash:d,instructions:c}).compileToV0Message([i]):new s.$Z({payerKey:n,recentBlockhash:d,instructions:c}).compileToV0Message(),console.log("   \u2705 - 2. Compiled transaction message"),x=new s.GS(f),e.next=13,a(x,t,{maxRetries:5,minContextSlot:l,signers:o});case 13:return m=e.sent,console.log("   \u2705 - 3. Transaction sent to network"),e.next=17,t.confirmTransaction({signature:m,blockhash:d,lastValidBlockHeight:p});case 17:if(!e.sent.value.err){e.next=20;break}throw new Error("   \u274c - 4. Transaction not confirmed.");case 20:return console.log("   \ud83c\udf89 - 5. Transaction succesfully confirmed!","https://explorer.solana.com/tx/".concat(m,"?cluster=devnet")),e.abrupt("return",m);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);