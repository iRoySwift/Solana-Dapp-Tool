"use strict";(self.webpackChunksolana_tools_client=self.webpackChunksolana_tools_client||[]).push([[665],{3541:function(e,n,t){var r=t(9506),a=t(5281),s=(t(7313),t(6417));n.Z=function(){return(0,s.jsx)(r.Z,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(a.Z,{sx:{background:"transparent"}})})}},9665:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r=t(7313),a=t(2832),s=t(1113),c=t(9506),i=t(9536),o=t(4165),l=t(5861),u=t(9439),d=t(7592),h=t(891),p=t(9099),x=t(1629),f=t(501),g=t(6835),Z=t(3477),m=t(4076),v=t(7478),y=t(3467),b=t(4631),k=t(3137),j=t(6442),w=t(1872),T=t(6436),K=t(477),B=t(2525),C=t(7429),A=t(3541),S=t(7655),M=t(6417);function V(e,n,t,r){return{mintAddress:e,ata:n,balance:t,mintNumber:r}}var N=(0,d.ZP)(c.Z)((function(){return{display:"flex",alignItems:"center",gap:10}})),I=function(e){var n=e.signer,t=e.connection,i=(0,r.useState)(0),d=(0,u.Z)(i,2),I=d[0],L=d[1],z=(0,r.useState)([]),P=(0,u.Z)(z,2),_=P[0],H=P[1],E=(0,r.useState)(!1),$=(0,u.Z)(E,2),F=$[0],G=$[1],R=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.publicKey){e.next=3;break}return(0,S.yv)("Please connect to your wallet",{variant:"warning"}),e.abrupt("return");case 3:t.getBalance(n.publicKey).then((function(e){(0,S.yv)("".concat(n.publicKey," has a balance of ").concat(e/C.j5),{variant:"success"}),L(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var r,a,s,c,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestAirdrop(n.publicKey,C.j5);case 2:return r=e.sent,e.next=5,t.getLatestBlockhashAndContext();case 5:return a=e.sent,s=a.value,c=s.blockhash,i=s.lastValidBlockHeight,e.next=11,t.confirmTransaction({signature:r,blockhash:c,lastValidBlockHeight:i});case 11:if(!e.sent.value.err){e.next=14;break}throw new Error("   \u274c - 4. Transaction not confirmed.");case 14:(0,S.yv)("\ud83c\udf89 Transaction succesfully confirmed!",{variant:"success"}),(0,S.yv)("https://explorer.solana.com/tx/".concat(r,"?cluster=devnet"),{variant:"success"});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var r,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,(0,k.a)(t,n,n.publicKey,n.publicKey,9);case 3:return r=e.sent,console.log("   \u2705 - Token mint address: ".concat(r.toBase58())),e.next=7,(0,j.N)(t,n,r,n.publicKey);case 7:a=e.sent,console.log("   \u2705 - Token ATA address: ".concat(a.toBase58())),G(!1),(0,S.yv)("\ud83c\udf89 Mint Token succesfully!",{variant:"success"});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(r,a,s){var c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,(0,w.E)(t,n,r,a,n,s*C.j5);case 3:c=e.sent,G(!1),console.log("   \u2705 - Mint ".concat(s," Token To ").concat(a.toBase58()," transaction:").concat(c)),(0,S.yv)("\ud83c\udf89 Mint ".concat(s," Token succesfully!"),{variant:"success"});case 7:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),q=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),r=[],H([]),e.next=5,t.getTokenAccountsByOwner(n.publicKey,{programId:T.H_});case 5:e.sent.value.forEach(function(){var e=(0,l.Z)((0,o.Z)().mark((function e(a){var s,c,i,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.account.data,i=K.p0.decode(c),e.next=4,(0,B.ih)(t,i.mint);case 4:l=e.sent,(null===(s=l.mintAuthority)||void 0===s?void 0:s.toBase58())===n.publicKey.toBase58()&&r.push(V(i.mint,a.pubkey,Number(i.amount/BigInt(C.j5)),1));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),setTimeout((function(){H(r),G(!1)}),1e4);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,M.jsxs)(c.Z,{sx:{flex:1,overflow:"auto",paddingRight:3},children:[(0,M.jsx)(s.Z,{variant:"h4",children:"Mint Token"}),(0,M.jsxs)(a.Z,{spacing:5,marginTop:5,children:[(0,M.jsxs)(N,{children:[(0,M.jsx)(s.Z,{variant:"h5",children:"Public Key:"}),(0,M.jsx)(h.Z,{target:"_blank",href:"https://explorer.solana.com/address/".concat(n.publicKey,"?cluster=devnet"),children:"".concat(n.publicKey)})]}),(0,M.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,M.jsx)(s.Z,{variant:"h5",children:"Balance:"}),(0,M.jsx)("span",{children:I/C.j5}),(0,M.jsx)(p.Z,{variant:"outlined",size:"small",onClick:R,children:"Query"})]}),(0,M.jsxs)(N,{children:[(0,M.jsx)(p.Z,{variant:"outlined",size:"small",onClick:O,children:"Airdrop"}),(0,M.jsx)(p.Z,{variant:"outlined",size:"small",onClick:Q,children:"Create Token"})]}),(0,M.jsxs)(N,{children:[(0,M.jsx)(s.Z,{variant:"h5",children:"Token List:"}),(0,M.jsx)(p.Z,{variant:"outlined",size:"small",onClick:q,children:"Query"})]}),(0,M.jsxs)(x.Z,{sx:{maxWidth:"100%",overflow:"auto"},component:f.Z,children:[(0,M.jsxs)(g.Z,{stickyHeader:!0,"aria-label":"simple table",children:[(0,M.jsx)(Z.Z,{children:(0,M.jsxs)(m.Z,{children:[(0,M.jsx)(v.Z,{children:"Mint Address"}),(0,M.jsx)(v.Z,{children:"ATA"}),(0,M.jsx)(v.Z,{align:"right",children:"Balance(Number)"}),(0,M.jsx)(v.Z,{align:"right",children:"Mint Number(Number)"}),(0,M.jsx)(v.Z,{align:"right",children:"Action"})]})}),(0,M.jsx)(y.Z,{children:_.map((function(e){return(0,M.jsxs)(m.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,M.jsx)(v.Z,{component:"th",scope:"row",children:"".concat(e.mintAddress)}),(0,M.jsx)(v.Z,{align:"right",children:"".concat(e.ata)}),(0,M.jsx)(v.Z,{align:"right",children:"".concat(e.balance)}),(0,M.jsx)(v.Z,{align:"right",children:(0,M.jsx)(b.Z,{hiddenLabel:!0,id:"filled-hidden-label-small",defaultValue:e.mintNumber,variant:"outlined",size:"small",type:"number",onChange:function(n){return function(e,n){console.log(n);var t=_.map((function(t){return t.ata===e&&(t.mintNumber=Number(n.target.value)),t}));console.log(t,_)}(e.ata,n)}})}),(0,M.jsx)(v.Z,{align:"right",children:(0,M.jsx)(p.Z,{onClick:function(){return W(e.mintAddress,e.ata,e.mintNumber)},children:"Mint"})})]},"".concat(e.mintAddress))}))})]}),!_.length&&(0,M.jsx)(c.Z,{sx:{width:"100%",padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:"\u6682\u65e0\u6570\u636e"})]})]}),F&&(0,M.jsx)(A.Z,{})]})},L=t(8012),z=t(362),P=t(3076),_=(0,d.ZP)(c.Z)((function(){return{display:"flex",alignItems:"center",gap:10}})),H=function(e){var n=e.signer,t=e.connection,i=(0,r.useState)(),d=(0,u.Z)(i,2),x=d[0],f=d[1],g=(0,r.useState)(),Z=(0,u.Z)(g,2),m=Z[0],v=Z[1],y=(0,r.useState)(!1),k=(0,u.Z)(y,2),j=k[0],w=k[1],T=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var r,a,s,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&x){e.next=2;break}return e.abrupt("return");case 2:return w(!0),e.next=5,(0,L._)(t,n,m,n.publicKey);case 5:return r=e.sent,e.next=8,(0,L._)(t,n,m,x);case 8:return a=e.sent,console.log("   \u2705 - Step 1 \u83b7\u53d6ATA\u8d26\u53f7"),s=[(0,z.$B)(r.address,a.address,n.publicKey,1*C.j5)],console.log("   \u2705 - Step 2 - create an array with your desires `instructions`"),e.next=14,(0,P.n)(n,t,s);case 14:c=e.sent,console.log("   \u2705 - Step 3 - Generate a transaction and send it to the network"),w(!1),(0,S.yv)("\ud83c\udf89 Transaction succesfully confirmed!",{variant:"success"}),(0,S.yv)("https://explorer.solana.com/tx/".concat(c,"?cluster=devnet"),{variant:"success"});case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,M.jsxs)(c.Z,{sx:{flex:1,overflow:"auto",paddingLeft:3},children:[(0,M.jsx)(s.Z,{variant:"h4",children:"Transfer Token"}),(0,M.jsxs)(a.Z,{spacing:5,marginTop:5,children:[(0,M.jsxs)(_,{children:[(0,M.jsx)(s.Z,{variant:"h5",children:"Public Key:"}),(0,M.jsx)(h.Z,{target:"_blank",href:"https://explorer.solana.com/address/".concat(n.publicKey,"?cluster=devnet"),children:"".concat(n.publicKey)})]}),(0,M.jsxs)(_,{children:[(0,M.jsx)(s.Z,{variant:"h5",children:"To PubKey:"}),(0,M.jsx)(b.Z,{hiddenLabel:!0,id:"toPubkey",variant:"outlined",size:"small",defaultValue:x,onChange:function(e){f(new C.nh(e.target.value))}})]}),(0,M.jsxs)(_,{children:[(0,M.jsx)(s.Z,{variant:"h5",children:"Mint Token Pubkey:"}),(0,M.jsx)(b.Z,{hiddenLabel:!0,id:"toPubkey",variant:"outlined",size:"small",defaultValue:m,onChange:function(e){v(new C.nh(e.target.value))}})]}),(0,M.jsx)(p.Z,{variant:"contained",size:"small",onClick:T,children:"Transfer"})]}),j&&(0,M.jsx)(A.Z,{})]})},E=JSON.parse("[37,37,60,131,98,125,34,130,135,2,57,248,169,60,174,216,219,70,59,155,64,7,77,104,33,204,94,10,112,105,150,19,81,152,193,57,135,12,148,233,95,219,65,201,180,32,3,250,82,142,28,180,128,106,126,102,144,196,181,26,146,135,251,94]"),$=function(){var e=(0,C.Wf)("devnet"),n=new C.ew(e,"confirmed"),t=C.RG.fromSecretKey(new Uint8Array(E));return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(a.Z,{justifyContent:"center",spacing:5,alignItems:"center",sx:{background:"#fff"},p:3,children:[(0,M.jsx)(s.Z,{variant:"h2",children:"Mint Token and Transfer"}),(0,M.jsxs)(c.Z,{sx:{width:"100%",display:"flex",flexFlow:"row nowrap"},children:[(0,M.jsx)(I,{signer:t,connection:n}),(0,M.jsx)(i.Z,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,M.jsx)(H,{signer:t,connection:n})]})]})})}},3076:function(e,n,t){t.d(n,{S:function(){return o},n:function(){return c}});var r=t(4165),a=t(5861),s=t(7429);function c(e,n,t,r){return i.apply(this,arguments)}function i(){return(i=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,c){var i,o,l,u,d,h,p,x;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLatestBlockhashAndContext();case 2:return i=e.sent,o=i.context.slot,l=i.value,u=l.blockhash,d=l.lastValidBlockHeight,console.log("   \u2705 - 1. Fetched latest blockhash. Last valid height:",d),h=c?new s.$Z({payerKey:n.publicKey,recentBlockhash:u,instructions:a}).compileToV0Message([c]):new s.$Z({payerKey:n.publicKey,recentBlockhash:u,instructions:a}).compileToV0Message(),console.log("   \u2705 - 2. Compiled transaction message"),(p=new s.GS(h)).sign([n]),console.log("   \u2705 - 3. Transaction Signed"),e.next=15,t.sendTransaction(p,{maxRetries:5,minContextSlot:o});case 15:return x=e.sent,console.log("   \u2705 - 4. Transaction sent to network"),e.next=19,t.confirmTransaction({signature:x,blockhash:u,lastValidBlockHeight:d});case 19:if(!e.sent.value.err){e.next=22;break}throw new Error("   \u274c - 5. Transaction not confirmed.");case 22:return console.log("   \ud83c\udf89 - 5. Transaction succesfully confirmed!","https://explorer.solana.com/tx/".concat(x,"?cluster=devnet")),e.abrupt("return",x);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e,n,t,r,a){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,c,i){var o,l,u,d,h,p,x,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLatestBlockhashAndContext();case 2:return o=e.sent,l=o.context.slot,u=o.value,d=u.blockhash,h=u.lastValidBlockHeight,console.log("   \u2705 - 1. Fetched latest blockhash. Last valid height:",h),p=i?new s.$Z({payerKey:n,recentBlockhash:d,instructions:c}).compileToV0Message([i]):new s.$Z({payerKey:n,recentBlockhash:d,instructions:c}).compileToV0Message(),console.log("   \u2705 - 2. Compiled transaction message"),x=new s.GS(p),e.next=13,a(x,t,{maxRetries:5,minContextSlot:l});case 13:return f=e.sent,console.log("   \u2705 - 3. Transaction sent to network"),e.next=17,t.confirmTransaction({signature:f,blockhash:d,lastValidBlockHeight:h});case 17:if(!e.sent.value.err){e.next=20;break}throw new Error("   \u274c - 4. Transaction not confirmed.");case 20:return console.log("   \ud83c\udf89 - 5. Transaction succesfully confirmed!","https://explorer.solana.com/tx/".concat(f,"?cluster=devnet")),e.abrupt("return",f);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);